1. Download and Install VMWare Workstation Pro
  1. Download VMWare Workstation Pro 25H2 once you have logged in from the Broadcom website
    * I installed with Windows Hypervisor Platform

2. Download Windows Server 2022
  1. Download the Windows Server 2022 ISO file from Microsoft Evaluation Center (I chose to use Windows Server 2022 over Windows Server 2025 because it is widely deployed and has more tutorials online)
  
3. Create a new Virtual Machine
  1. File > New Virtual Machine
  2. Configuration Type: Typical (recommended)
  3. Guest Operating System Installtion: 
    - Select: I will install the operating system later (Note:  Selecting Installer disc image file (iso) can lead to VMWare 'Easy Install' which asks for a product key on the next screen)
  4. Select a Guest Operating System:
    - Select Microsoft Winodws and Windows Server 2022
  5. Virtual Machine Name: Windows Server 2022
  6. Specify disk capacity: 
    - Maximum disk size: 60 GB is recommended for Windows Server 2022
    - Select: Split virtual disk into multiple files
  7. Ready to Create  Virtual Machine: (I used the default Memory and CPU settings)
    - Memory: 2048 MB
    - 2 CPU cores

4. Attach the ISO Manually
  1. Click on the new Winodws Server 2022 VM > Click Edit Virtual Machine Setting at the top
  2. Select CD/DVD (SATA) 
  3. On the right, select Use ISO image file > browse and select the Windows Server 2022 ISO file
  4. Click OK

4. Load the Windows Server 2025 ISO file from the VM settings
  - Make sure to Press any key to boot from CD/DVD
  - Select Windows Server 2022 Standard Evaluation (Desktop Experience)
  - Set your password

5. Prerequisites for installing new Active Directory Forest:
  - Set static IP Address
    - Go to Network & Internet > Change adapter options > Right click adapter > Properties > Click IPv4 and select Properties
    - Run ipconfig to get VM configuration and use results to fill out following section
    - Click Use the following IP adddres:
      - IP address: 192.168.242.10 
      - Subnet mask: 255.255.255.0
      - Default gateway: 192.168.242.2
    - Click Use the following DNS server addresses: 
    -  Preferred DNS server: 192.168.242.10 (points the server to itself for DNS - I did something similar in the Azure setup where we pointed the pointed the VLAN DNS to the VM static IP)
  - Name the server:
    - Go to System > About > Rename this PC
      - Set it to DC01

6. Install Active Directory
  - Open Server Manager
  - Click Manage and click Add Roles and Features
  - Click Role-based installation
  - Select Active Directory Domain Services > click Add Features

7. Promote Server to Domain Controller
  - In Server Mananger click the yellow flag > click Promote this server to domain controller
  - Deployment configuration:
    - Add a new forest
    - Root domain name: ad.lab
  - Domain controller options:
    - Windows Server 2016
    - Check: Domain Name System (DNS) server and Global Catalog
    - Set a Directory Services Restore Mode (DSRM) password
  - DNS Options: You can safely ignore the warning "A delegation for this DNS server cannot be created." This is normal for a new root domain.
  - NetBIOS domain name:  should autopopulate and you can leave as default.  In my case AD
  - Click through and install

8. Post Promotion Checks
  - Your log in name should have changed to your domain account.  In my case AD/Administrator
  - Verify DNS
    - Server Manager > Tools > DNS
    - There should be two Forward Lookup Zones: one for _msdcs.ad.lab and one for ad.lab
    - For further validation run dcdiag in powershell and look for mostly "passed test" and warnings.  You don't want errors

The Windowser Server 2022 running on VMWare Workstation Pro is no a functioning Domain Controller.  Next we will begin creating Active Direcotry Users and Computers, working with Organizations Units and joining other PCs
